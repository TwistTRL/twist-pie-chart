(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,a){},16:function(t,e,a){"use strict";a.r(e);var i=a(1),n=a(2),r=a(3),o=a(5),l=a(4),s=a(6),p=a(0),h=a.n(p),c=a(8),u=a.n(c),C=(a(15),function(t){function e(t){var a;Object(n.a)(this,e),(a=Object(o.a)(this,Object(l.a)(e).call(this,t))).drawPieChart=function(t,e){for(var i,n,r,o,l,s,p,h,c,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",C=arguments.length>3&&void 0!==arguments[3]&&arguments[3],g=0,d=0,v=a.pieChartCanvasW/2,f=a.pieChartCanvasH/2+30,T="ERROR",m="",y=0,b=0;b<a.aggData.length;b++)if(i=C?a.pieChartCanvasW/4+10:a.pieChartCanvasW/4,T=a.aggData[b].type,g=d,s=((d+=a.aggData[b].rad)+g)/2,n=v+.6*i*(p=Math.cos(s)),r=f+.6*i*(h=Math.sin(s)),m=e[b],C?(o=0,l=0):e[b]===u?(o=10*p,l=10*h):(o=2*p,l=2*h),(c=a.roundDegToMultiOfTen(a.toDegree(s)))<=y+5?c=y+=6:y=c,t.beginPath(),t.fillStyle=m,t.moveTo(v+o,f+l),t.arc(v+o,f+l,i,g,d),t.lineTo(v+o,f+l),t.strokeStyle=e[b],t.fill(),t.textAlign="center",t.textBaseline="top",t.font=u!==e[b]?"bold 10pt MuseoSans":"900 10pt MuseoSans",t.fillStyle=C?e[b]:"#1f589d",a.aggData[b].percent>.15)C||t.fillText(T,n,r);else{var D=Math.cos(a.toRadians(c)),S=Math.sin(a.toRadians(c)),E=C?i-=10:i,x=v+.8*E*D+E/2*D,P=f+.9*E*S+E/2*S;if(C){var k=t.measureText(T).width,M=parseInt(t.font.match(/\d+/),11);c>=90&&c<180?t.rect(x-k,P,k,12):c>=180&&c<270?t.rect(x-k,P-M-2,k,12):c>=270?t.rect(x,P-M-2,k,12):t.rect(x,P,k,12),t.fillStyle=e[b],t.fill()}else a.aggData[b].percent>.15&&t.fillText(T,n,r),n=v+.9*i*p,r=f+.9*i*h,t.lineWidth=u===e[b]?2:1.3,t.beginPath(),t.moveTo(n,r),t.lineTo(n+i/5*p,r+i/5*h),c>=90&&c<180?(t.textAlign="right",t.textBaseline="top"):c>=180&&c<270?(t.textAlign="right",t.textBaseline="bottom"):c>=270?(t.textAlign="left",t.textBaseline="bottom"):(t.textAlign="left",t.textBaseline="top"),t.lineTo(x,P),t.stroke(),t.fillText(T,x,P)}},a.roundRadUp=function(t){if(t<.1)return.1;if(t>=6.2)return 0;var e=t+=.1;return parseFloat(e.toFixed(1))},a.roundDegToMultiOfTen=function(t){return t<10?10:t>=350?360:Number(String(t).slice(0,-1)+0)},a.toDegree=function(t){return t*(180/Math.PI)},a.toRadians=function(t){return t*(Math.PI/180)},a.findPos=function(t){var e=0,a=0;if(t.offsetParent){do{e+=t.offsetLeft,a+=t.offsetTop}while(t=t.offsetParent);return{x:e,y:a}}},a.rgbToHex=function(t,e,a){if(t>255||e>255||a>255)throw"Invalid color component";return(t<<16|e<<8|a).toString(16).toUpperCase()},a.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},a.digToRgbStr=function(t){return"rgb(0,0,"+t*a.pieChartPickingColorOffSet+")"},a.randomRgba=function(){var t=Math.round,e=Math.random;return"rgba("+t(255*e())+","+t(255*e())+","+t(255*e())+","+e().toFixed(1)+")"},a.handleMouseMove=function(t){var e=a.findPos(a.pieChartCanvas),n=t.pageX-e.x,r=t.pageY-e.y,o=a.pieChartPickingCtx.getImageData(n,r,1,1).data,l=o[2]/a.pieChartPickingColorOffSet-1;a.pieChartCtx.clearRect(0,0,a.pieChartCanvas.width,a.pieChartCanvas.height),a.drawPieChart(a.pieChartCtx,a.pieChartColors,a.pieChartColors[l]),0!==o[2]&&255===o[3]?a.setState({toolTipLeft:t.clientX-75,toolTipTop:t.clientY+15,canvasToolTipVisibility:"visible",currentHovering:a.aggData[l]}):a.setState(Object(i.a)({},a.state,{canvasToolTipVisibility:"hidden"})),a.state.currentHovering!==a.aggData[l]&&a.drawBreakDownBars()},a.handleMouseOut=function(){a.setState(Object(i.a)({},a.state,{canvasToolTipVisibility:"hidden"}))},a.data=a.props.data,a.title=a.props.title,a.typeToColorDict=a.props.dataTypeToColorDict,a.pieChartCtx=null,a.pieChartPickingCtx=null,a.pieChartCanvasW=350,a.pieChartCanvasH=400,a.pieChartToolTipW=150,a.pieChartToolTipH=190,a.pieChartToolTipOffsetY=60,a.state={canvasToolTipVisibility:"hidden",toolTipLeft:a.pieChartCanvasW-a.pieChartToolTipW,toolTipTop:a.pieChartCanvasH-a.pieChartToolTipH+a.pieChartToolTipOffsetY},a.aggData=[],a.aggDataTypeTable={},a.colorToDataTypeDict={},a.pieChartColors=[],a.pieChartPickingColors=[],a.pieChartPickingColorsSet=new Set,a.pieChartPickingColorOffSet=7;for(var r=1;r<=a.data.length;r++)a.pieChartPickingColors.push(a.digToRgbStr(r)),a.pieChartPickingColorsSet.add(r*a.pieChartPickingColorOffSet);return a.dataSum=0,a.data.map(function(t){a.dataSum+=t.value,a.aggDataTypeTable[t.type]?a.aggDataTypeTable[t.type]={value:a.aggDataTypeTable[t.type].value+=t.value}:a.aggDataTypeTable[t.type]={value:t.value}}),Object.keys(a.aggDataTypeTable).map(function(t,e){var i=a.aggDataTypeTable[t];a.pieChartColors.push(a.typeToColorDict[t]),i.percent=i.value/a.dataSum,i.rad=2*i.percent*Math.PI,i.type=t,a.colorToDataTypeDict[a.pieChartColors[r]]=i,a.aggData[e]=i}),a.aggData.sort(function(t,e){return t.rad-e.rad}),a}return Object(s.a)(e,t),Object(r.a)(e,[{key:"drawBreakDownBars",value:function(){for(var t={peach:this.randomRgba(),peach1:this.randomRgba(),orange:this.randomRgba(),cyan:this.randomRgba(),red:this.randomRgba()},e=new Set([0,1]),a=new Set([2,3,4,5,6]),i=0,n=10,r=this.tooltipCanvas.getContext("2d"),o=0;o<10;o++){var l=void 0;r.moveTo(0,i),r.moveTo(0,n),l=a.has(o)?t.orange:e.has(o)?t.red:t.cyan,r.fillStyle=l,r.fillRect(20,n,20,10),r.fillStyle="black",r.fillText("TEST",50,n+10),i=n,n+=10}}},{key:"componentDidMount",value:function(){this.pieChartCanvas=this.refs.canvas,this.pieChartPickingCanvas=this.refs.pieChartPickingCanvas,this.tooltipCanvas=this.refs.tooltipCanvas,this.pieChartCtx=this.pieChartCanvas.getContext("2d"),this.pieChartPickingCtx=this.pieChartPickingCanvas.getContext("2d"),this.drawPieChart(this.pieChartCtx,this.pieChartColors),this.drawPieChart(this.pieChartPickingCtx,this.pieChartPickingColors," ",!0)}},{key:"render",value:function(){var t={pickingCanvas:{display:"none"},tooltipContainer:{width:this.pieChartToolTipW,height:this.pieChartToolTipH,left:this.state.toolTipLeft,top:this.state.toolTipTop,visibility:this.state.canvasToolTipVisibility,zIndex:9999}};return h.a.createElement("div",{className:"pie-chart-container"},h.a.createElement("div",{className:"pie-chart-title"},h.a.createElement("span",null,this.title+" "+this.dataSum," "),h.a.createElement("span",{className:"pie-chart-title-measurements"},"mL/kg/day")),h.a.createElement("canvas",{style:t.pickingCanvas,className:"pie-chart-picking-canvas",ref:"pieChartPickingCanvas",width:this.pieChartCanvasW,height:this.pieChartCanvasH}),h.a.createElement("canvas",{className:"pie-chart-canvas",ref:"canvas",width:this.pieChartCanvasW,height:this.pieChartCanvasH,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut}),h.a.createElement("div",{className:"pie-chart-tooltip-container",style:t.tooltipContainer},h.a.createElement("span",{className:"pie-chart-tooltip-title"},this.state.currentHovering?this.state.currentHovering.type:""),h.a.createElement("br",null),h.a.createElement("span",{className:"pie-chart-tooltip-percent"},this.state.currentHovering?Math.round(100*this.state.currentHovering.percent.toFixed(2))+"% ":""),h.a.createElement("span",{className:"pie-chart-tooltip-details"},"of total"),h.a.createElement("canvas",{className:"pie-chart-tooltip-canvas",ref:"tooltipCanvas"})))}}]),e}(p.PureComponent)),g=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(l.a)(e).call(this,t))).handleSubmit=function(t){t&&t.preventDefault();var e=a.data.value.replace(/(\w+:)|(\w+ :)/g,function(t){return'"'+t.substring(0,t.length-1)+'":'}),n=JSON.parse(e);a.setState(Object(i.a)({},a.state,{data:n}))},a.dataTypeToColorDict={MEDS:"#C2EEF8",FLUSHES:"#5DD2EF",TPN:"#84A5D5",FEEDS:"#A3DBDC",lol434ra:"#C13BDA",xbo4334x:"#613BFA"},a.state={data:[{value:1,type:"MEDS"},{value:1,type:"FLUSHES"},{value:20,type:"FEEDS"},{value:10,type:"FEEDS"},{value:1,type:"TPN"}]},a}return Object(s.a)(e,t),Object(r.a)(e,[{key:"updateTableState",value:function(t){this.setState(Object(i.a)({},this.state,t))}},{key:"selectedMeasurement",value:function(){}},{key:"render",value:function(){var t=this;return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,"Pass in data in the form: ",' [{ value: 1, type: "MEDS" }, {value: 1, type: "FLUSHES" }, {value: 20, type: "FEEDS" }, {value: 10, type: "FEEDS" }, {value: 1, type: "TPN" }] '),h.a.createElement("form",{onSubmit:this.handleSubmit},h.a.createElement("input",{style:{height:"50px",width:"50%",fontSize:"14pt"},placeholder:"data",type:"text",ref:function(e){t.data=e}}),h.a.createElement("button",null,"UPDATE TABLE")),h.a.createElement(C,{data:this.state.data,dataTypeToColorDict:this.dataTypeToColorDict,title:"Calories"}))}}]),e}(p.Component);u.a.render(h.a.createElement(g,null),document.getElementById("root"))},9:function(t,e,a){t.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.490ba984.chunk.js.map